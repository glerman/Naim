<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-jsonview/1.2.3/jquery.jsonview.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-jsonview/1.2.3/jquery.jsonview.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>

    <script type="text/javascript" charset="utf-8">

        function execute(salariesFile, teachersFile, receiptTo, teachersToIterate, sendMails, sendFromNaim) {
//            var requestJson = "{\"docId\":" + docId + ",\"recType\":\"" + recType + "\"," +
//                        "\"widgetId\":" + widgetId + ",\"userPlatform\":\"" + userPlatform + "\"," +
//                        "\"numRequiredOrganicRecs\":" + numRecs + "," +
//                        "\"uuid\":\"" + uuid + "\"," +
//                        "\"shouldReadFromMemCache\":\"" + readFromMemCache + "\"," +
//                        "\"shouldWriteToMemCache\":\"" + writeToMemCache + "\"," +
//                        "\"abTestVarId\":\"" + abTestVarId + "\"}";
//                var url = '/ORex/diagnostics/getRecs?request=' + requestJson;
//                var request = $('#request');
//                request.empty();
//                request.text(url);
//                request.wrapInner('<a href="' + encodeURI(url) + '">');
//                $('#request-panel').show();
//                $.getJSON(url, function(data) {
//                    var response = $('#response');
//                    response.empty();
//                    response.jsonView(JSON.stringify(data));
//                    $('#response-panel').show();
//                });
        }
    </script>
</head>

<body>
<div>
    <h1 align="center">Salary Mail Service</h1>
</div>

<div style="clear:both;"></div>

<div>

    <span class="input-group col-lg-1" style="float: left ;margin: 10px;">
        <label for="salariesFile">Select Salaries File</label>
        <input id="salariesFile" type="file"/>
    </span>

    <span class="input-group col-lg-2" style="float: left ;margin: 10px;">
        <label for="teachersFile">Select Teachers File</label>
        <input id="teachersFile" type="file"/>
    </span>

    <span class="input-group col-lg-2" style="float: left ;margin: 10px;">
        <span class="input-group-addon">Receipt To</span>
        <input id="receiptTo" class="form-control" type="text" value="נורמל מחקר"/>
    </span>

    <span class="input-group col-lg-2" style="float: left ;margin: 10px;">
        <span class="input-group-addon">Which Teachers</span>
        <select id="teachersToIterate" class="form-control">
            <option value="ONE" selected="selected">One</option>
            <option value="ALL">All</option>
        </select>
    </span>

    <div class="btn-group" data-toggle="buttons" style="float: left ;margin: 10px;">
        <label class="checkbox">
            <input id="sendMails" type="checkbox" autocomplete="off">Send Mails
        </label>
        <label class="checkbox">
            <input id="sendFromNaim" type="checkbox" autocomplete="off">Send From Naim
        </label>
    </div>

</div>

<div style="clear:both;"></div>

<div>

    <div style="clear:both;"></div>

    <a class="btn btn-primary" style="float: left ;margin: 10px;"
       onclick="
                  var salariesFile = $('#salariesFile').val();
                  var teachersFile = $('#teachersFile').val();
                  var receiptTo = $('#receiptTo').val();
                  var teachersToIterate = $('#teachersToIterate').val();
                  var sendMails = document.getElementById('sendMails').checked;
                  var sendFromNaim = document.getElementById('sendFromNaim').checked;
                  execute(salariesFile, teachersFile, receiptTo, teachersToIterate, sendMails, sendFromNaim);
    ">
    Execute
    </a>
</div>

<div style="clear:both;"></div>

<div class="panel panel-default" id="request-panel" style="display: none;">
    <div class="panel-heading">Request</div>
    <div class="panel-body" id="request">
    </div>
</div>

<div class="panel panel-default" id="response-panel" style="display: none;">
    <div class="panel-heading">Response</div>
    <div class="panel-body" id="response">
    </div>
</div>

</body>
</html>
